<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—É—Ä—Å: –≠–º–ø–∞—Ç–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –æ–±—â–µ–Ω–∏–∏</title>
    
    <!-- –ò–ö–û–ù–ö–ê –°–ê–ô–¢–ê -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíô</text></svg>">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #121212;
            color: #f5f5f5;
        }
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
            color: #ccc;
        }
        #app {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Supabase –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body data-theme="dark">
    <div class="loading" id="loading">
        <i class="fas fa-spinner fa-spin fa-2x"></i><br><br>
        –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–∞ —ç–º–ø–∞—Ç–∏–∏...
    </div>

    <div id="app" style="display: none;">
        <header class="main-header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-heart"></i>
                    <h1>–ö—É—Ä—Å –≠–º–ø–∞—Ç–∏–∏</h1>
                </div>
            </div>
            
            <div class="header-right">
                <div class="mobile-progress" style="display: none;">
                    <span id="mobileProgressText">0%</span>
                </div>
                
                <div class="user-profile">
                    <div class="user-info" onclick="showAuthModal()" title="–í–æ–π—Ç–∏/–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è">
                        <i class="fas fa-user-circle"></i>
                        <span id="userName">–ì–æ—Å—Ç—å</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="app-container">
            <nav class="sidebar">
                <div class="modules-list" id="modulesList"></div>
                
                <div class="sidebar-footer">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p id="progressText">–ü—Ä–æ–≥—Ä–µ—Å—Å: 0%</p>
                    </div>
                    
                    <div class="sidebar-controls">
                        <button id="finalExamBtn" class="btn-certificate disabled">
                            <i class="fas fa-graduation-cap"></i> –ò—Ç–æ–≥–æ–≤—ã–π —ç–∫–∑–∞–º–µ–Ω
                        </button>
                        <button id="certificateBtn" class="btn-certificate disabled">
                            <i class="fas fa-award"></i> –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
                        </button>
                        <button id="resetBtn" class="btn-reset">
                            <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
                        </button>
                    </div>
                </div>
            </nav>

            <main class="content-area">
                <div class="content-wrapper">
                    <div class="module-area" id="moduleArea">
                        <div class="content-header">
                            <div>
                                <h2 id="moduleTitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –∫—É—Ä—Å</h2>
                                <p id="moduleSubtitle">¬´–≠–º–ø–∞—Ç–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –æ–±—â–µ–Ω–∏–∏¬ª</p>
                            </div>
                            <div class="module-progress-indicator" id="moduleProgressIndicator" style="display: none;">
                                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –º–æ–¥—É–ª—è: <span id="moduleProgressPercent">0%</span></span>
                                <div class="mini-progress-bar">
                                    <div class="mini-progress-fill" id="moduleProgressFill"></div>
                                </div>
                            </div>
                        </div>

                        <div class="tabs" id="moduleTabs"></div>

                        <div class="content-display" id="contentDisplay"></div>

                        <div class="test-area" id="testArea" style="display: none;">
                            <div class="test-header">
                                <h3 id="testTitle">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</h3>
                                <p id="testDescription"></p>
                            </div>
                            <div class="test-content" id="testContent"></div>
                            <div class="test-controls">
                                <button onclick="submitTest()" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</button>
                                <button onclick="openModule(userProgress.currentModule, userProgress.currentSubmodule || '1.1')" class="btn-secondary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –º–æ–¥—É–ª—é</button>
                            </div>
                        </div>

                        <div class="final-exam-area" id="finalExamArea" style="display: none;">
                            <div class="test-header">
                                <h3 id="finalExamTitle">–ò—Ç–æ–≥–æ–≤—ã–π —ç–∫–∑–∞–º–µ–Ω</h3>
                                <p id="finalExamDescription"></p>
                            </div>
                            <div class="test-content" id="finalExamContent"></div>
                            <div class="test-controls">
                                <button onclick="submitFinalExam()" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —ç–∫–∑–∞–º–µ–Ω</button>
                                <button onclick="showWelcomeScreen()" class="btn-secondary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫—É—Ä—Å—É</button>
                            </div>
                        </div>
                    </div>
                </div>

                <footer class="content-footer">
                    <p>¬© 2025 –ö—É—Ä—Å ¬´–≠–º–ø–∞—Ç–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –æ–±—â–µ–Ω–∏–∏¬ª. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                    <p>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏: @kotickr, @Mortuii</p>
                    <p class="bot-notice">
                        <i class="fas fa-robot"></i> 
                        –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞.
                        <span class="bot-hint" onclick="showBotInfo()" style="color: #4a90e2; cursor: pointer; margin-left: 10px;">
                            <i class="fas fa-info-circle"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞?
                        </span>
                    </p>
                </footer>
            </main>
        </div>

        <div class="modal-overlay" id="modalOverlay" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="modalTitle">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h3>
                    <button class="close-modal" id="closeModalBtn">&times;</button>
                </div>
                <div class="modal-body" id="modalBody"></div>
                <div class="modal-footer">
                    <button class="btn-primary" id="modalOkBtn">OK</button>
                </div>
            </div>
        </div>

        <div class="modal-overlay" id="botInfoModal" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <h3><i class="fas fa-robot"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π?</h3>
                    <button class="close-modal" onclick="closeBotInfo()">&times;</button>
                </div>
                <div class="modal-body">
                    <div style="padding: 20px;">
                        <h4>üìä –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏</h4>
                        <p>–ù–∞—à –±–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:</p>
                        
                        <div class="checking-criteria">
                            <div class="criterion">
                                <i class="fas fa-search"></i>
                                <div>
                                    <strong>–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</strong>
                                    <p>–ò—â–µ—Ç –≤–∞–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –∏ –ø–æ–Ω—è—Ç–∏—è –∏–∑ —Ç–µ–æ—Ä–∏–∏</p>
                                </div>
                            </div>
                            
                            <div class="criterion">
                                <i class="fas fa-brain"></i>
                                <div>
                                    <strong>–°–º—ã—Å–ª–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑</strong>
                                    <p>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –æ—Ç–≤–µ—Ç —Ç–µ–º–µ</p>
                                </div>
                            </div>
                            
                            <div class="criterion">
                                <i class="fas fa-ruler"></i>
                                <div>
                                    <strong>–û–±—ä–µ–º –∏ –∫–∞—á–µ—Å—Ç–≤–æ</strong>
                                    <p>–û—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç—É –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–∞</p>
                                </div>
                            </div>
                            
                            <div class="criterion">
                                <i class="fas fa-check-double"></i>
                                <div>
                                    <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—à–∏–±–∫–∏</strong>
                                    <p>–í—ã—è–≤–ª—è–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏—è</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bot-tips" style="margin-top: 20px; padding: 15px; background: #2a2a2a; border-radius: 8px;">
                            <h5><i class="fas fa-lightbulb"></i> –°–æ–≤–µ—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:</h5>
                            <ul style="margin: 10px 0 0 20px;">
                                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ —Ç–µ–æ—Ä–∏–∏ —É—Ä–æ–∫–∞</li>
                                <li>–û—Ç–≤–µ—á–∞–π—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ, –Ω–µ –æ–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º</li>
                                <li>–ü—Ä–∏–≤–æ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏</li>
                                <li>–°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)</li>
                                <li>–ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</li>
                            </ul>
                        </div>
                        
                        <p style="margin-top: 20px; font-size: 0.9em; color: #888;">
                            <i class="fas fa-shield-alt"></i> 
                            <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –°–∏—Å—Ç–µ–º–∞ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É–µ—Ç—Å—è. –ï—Å–ª–∏ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ –æ—Ü–µ–Ω–∫—É –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π, 
                            –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ç–µ–æ—Ä–∏–∏.
                        </p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" onclick="closeBotInfo()">–ü–æ–Ω—è—Ç–Ω–æ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/script.js"></script>
    
    <script>
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loading').style.display = 'none';
                const app = document.getElementById('app');
                app.style.opacity = '1';
                app.style.display = 'block';
                
                if (window.innerWidth <= 768) {
                    document.querySelector('.mobile-progress').style.display = 'block';
                }
            }, 500);
        });
        
        function showBotInfo() {
            document.getElementById('botInfoModal').style.display = 'flex';
        }
        
        function closeBotInfo() {
            document.getElementById('botInfoModal').style.display = 'none';
        }
    </script>
</body>
</html>
